<h1>PGI</h1>

<p> Category: Program Dev-Compilers

<h2>Description</h2>

<p> The <a href="http://www.pgroup.com/">Portland Group (PGI)</a> compilers are available on the analysis machines as modules.  The analysis machines have PGI versions 7.2.5 and 8.0.x.

<p> To see man pages on PGI compilers with a full list of compiler options, first make sure a "pgi" module is loaded, and then do a man on any of the following:
<ul>
 <li> pgcc 
 <li> pgCC 
 <li> pgf90/pgf95 
 <li> pgf77 
</ul>

<p> For more detailed information, see <a href="http://www.pgroup.com/resources/docs.htm">PGI documentation</a>.


<h2>Use</h2>

To use the PGI compilers, just load the PGI programming module, and then optionally follow that by loading the PGI version you want:

<pre>
  module load PE-pgi       # you may want to unload any other PE-<comp> modules you have loaded
  module swap pgi pgi/7.2.1
</pre>

<p>It is best to review the pgcc, pgCC, and pgf90 man pages for a list of their options.

<h3> C/C++ Options</h3>

<p>The following options control the amount of debugging information generated by the compiler. They can adversely affect optimization.

<table border="1">
<tr><th>Option <th>Description
<tr><td>-g<td> Generates symbolic debug information. Turns off optimization.
<tr><td>-Mbounds<td>Adds array bound checking.
</table>

<p>For most cases, the usual levels of optimization are appropriate (-O0, -O1, -O2 [default], -O3). Here are a few exceptions.

<table border="1">
<tr><th>Option <th>Description
<tr><td>-fast<td>Chooses generally optimal flags for the target platform.
Use pgcc -fast -help to see the equivalent switches.
Note this sets the optimization level to a minimum of 2; see -O.
<tr><td>-fastsse<td>Chooses generally optimal flags for a processor that supports the streaming SIMD extensions (SSE) (Pentium 3/4, AthlonXP/MP, Opteron) and SSE2 (Pentium 4, Opteron) instructions. Use pgcc -fastsse -help to see the equivalent switches.
<tr><td>-tp k8-64<td>Targets optimization to the 64-bit Opteron processor.
<tr><td>-Mflushz<td>Sets SSE to flush-to-zero mode.
<tr><td>-pg, -Mprof<td>Instrument program for profiling.
These flags imply different types of profiling.
Please check the <a href="http://www.nccs.gov/computing-resources/jaguar/debugging-optimization/">performance tuning pages</a> for more information.
<tr><td>-Minfo<td>Generates an optimization report to standard error.
This has several suboptions, so check the man page.
<tr><td>-mp=nonuma<td>Enables the compiler to generate multithreaded code based on the OpenMP directives.  Use the nonuma suboption when
linking with the Cray wrappers.
</table>

<p>

<h3> Fortran Options</h3>

<p>The following options control how source files are translated into machine code.

<table border="1">
<tr><th>Option <th>Description
<tr><td>-M fixed<td>The source code uses fixed-form syntax, as in Fortran 77.
This option is on by default for source files ending in .f, .F, .for, and .fpp.
<tr><td>-M free<td>The source code uses free-form syntax, introduced in Fortran 90.
This option is on by default for source files ending in .f90, .F90, .f95, .F95.
<tr><td>-F<td>This option preprocesses each file and leaves the output in a file named file.f for each file named file.F.
<tr><td>-i8<td>This option treats INTEGER variables as 8 bytes.
For operations involving integers, uses 64 bits for computations.
<tr><td>-r8<td>This option interprets REAL variables as DOUBLE PRECISION.
Equivalent to using the options -Mr8 and -Mr8intrinsics.
</table>

<p> The following options control the amount of debugging information generated by the compiler. They can adversely affect optimization.

<table border="1">
<tr><th>Option <th>Description
<tr><td>-g<td>Generates symbolic debugging information. Turns off optimization.
<tr><td>-Mbounds<td>Adds array bound checking.
<tr><td>-Mchkptr<td>Checks for unintended dereferencing of null pointers.
</table>

<p>For most cases, the usual levels of optimization are appropriate (-O0, -O1, -O2 [default], -O3). Here are a few exceptions.

<table border="1">
<tr><th>Option <th>Description
<tr><td>-fast<td>Chooses generally optimal flags for the target platform.
Use pgf90 -fast -help to see the equivalent switches.
Note this sets the optimization level to a minimum of 2; see -O.
<tr><td>-fastsse<td>Chooses generally optimal flags for a processor that supports the SSE (Pentium 3/4, AthlonXP/MP, Opteron) and SSE2 (Pentium 4, Opteron) instructions.
Use pgf90 -fastsse -help to see the equivalent switches.
<tr><td>-Mflushz<td>Sets SSE to flush-to-zero mode.
<tr><td>-pg, -Mprof<td>Instrument program for profiling.
These flags imply different types of profiling.
Please check the <a href="http://www.nccs.gov/computing-resources/jaguar/debugging-optimization/">performance tuning pages</a> for more information.
<tr><td>-Minfo<td>Generates an optimization report to standard error.
This has several suboptions, so check the man page.
<tr><td>-Mlist<td>Generates a listing file.
<tr><td>-mp=nonuma<td>Enables the compiler to generate multithreaded code based on the OpenMP directives.  Use the nonuma suboption when
linking with the Cray wrappers.
</table>


<h2>Support</h2><p>This package has the following support level : Supported
<br>
<h2>Available Versions</h2>
<p>All versions of this software are provided by the system vendor and are not installed by NICS staff.